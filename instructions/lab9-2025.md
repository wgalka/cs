# Tworzenie graficznego interfejsu użytkownika przy użyciu Windows Forms .NET. 

Przejrzyj samouczeki dostępne pod [adresem](https://learn.microsoft.com/pl-pl/visualstudio/ide/create-csharp-winform-visual-studio?toc=%2Fvisualstudio%2Fget-started%2Fcsharp%2Ftoc.json&bc=%2Fvisualstudio%2Fget-started%2Fcsharp%2Fbreadcrumb%2Ftoc.json&view=vs-2022)

## Tworzenie nowych okien

W Windows Forms (WinForms), tworzenie nowych okien polega na tworzeniu instancja klasy dziedziczącej po `System.Windows.Forms.Form`.

Dodanie nowego okna `ExampleForm.cs`:

```csharp
public partial class ExampleForm : Form // dziedziczenie po Form
{
    public ExampleForm() // Konstruktor klasy
    {
        InitializeComponent(); // Tworzy instancje kontrolek (np. Button, TextBox, Label). Ustawia ich właściwości (np. pozycję, tekst, kolory). Dodaje je do formularza (this.Controls.Add(...)). Podpina zdarzenia (np. button1.Click += ...).
    }
}
```

Aby otworzyć nowe okno należy utworzyć instancję `ExampleForm` a na utworzonym obiekcie wywołać metodę `Show()` lub `ShowDialog()`. Metody różnią się tym że druga metoda zablokuje dostęp do innych okienek dopóki nie zostanie ono zamknięte.

```csharp
 internal static class Program {
    /// <summary>
    ///  The main entry point for the application.
    /// </summary>
    [STAThread]
    static void Main() {
        ApplicationConfiguration.Initialize(); //Włączenie DPI awareness (lepsze skalowanie na ekranach 4K). Ustawienie domyślnej czcionki(np.Segoe UI zamiast klasycznej). Włączenie wizualnych stylów.

        var subForm = new ExampleForm();
        subForm.Show();// nieblokująco

        Application.Run(new ExampleForm()); //Rozpoczyna główną pętlę aplikacji Windows Forms – czyli tzw. "message loop", która: Obsługuje kliknięcia, klawiaturę, rysowanie, zdarzenia itp. Utrzymuje aplikację przy życiu, dopóki główne okno nie zostanie zamknięte. Bez niej okno od razu znika i program kończy działanie.
    }
}
```

## Tworzenie menu

1. utwórz nowy formularz 

![](https://learn.microsoft.com/en-us/dotnet/desktop/winforms/forms/media/how-to-add/existing-right-click.png?view=netdesktop-9.0)

2. w pliku z rozszerzeniem `<Nazwa>.Designer.cs` dodaj kod inicjalizujący menu i jego opcje w metodzie `InitializeComponent()` 

<details>

<summary>.Designer.cs</summary>

To część klasy formularza, która odpowiada tylko za wygląd – layout, kontrolki, ustawienia. Zazwyczaj nie zawiera logiki – Visual Studio uzupełnia/aktualizuje plik automatycznie, gdy przeciągasz elementy na formularz w trybie projektowania.

</details>

```cs
// Inicjalizacja instancji głównego paska menu (MenuStrip)
this.menuStrip1 = new System.Windows.Forms.MenuStrip();

// Inicjalizacja głównego elementu menu "Plik"
this.fileMenuItem = new System.Windows.Forms.ToolStripMenuItem();

// Inicjalizacja pozycji w menu "Plik"
this.newMenuItem = new System.Windows.Forms.ToolStripMenuItem();   // Opcja "Nowy"
this.openMenuItem = new System.Windows.Forms.ToolStripMenuItem();  // Opcja "Otwórz"
this.exitMenuItem = new System.Windows.Forms.ToolStripMenuItem();  // Opcja "Zamknij / Wyjście"

// Dodanie głównej pozycji menu "Plik" do menuStrip
this.menuStrip1.Items.AddRange(new System.Windows.Forms.ToolStripItem[] {
    this.fileMenuItem
});

// Ustawienia pozycji menuStrip w oknie formularza
this.menuStrip1.Location = new System.Drawing.Point(0, 0);          // Góra formularza
this.menuStrip1.Name = "menuStrip1";                                // Unikalna nazwa kontrolki
this.menuStrip1.Size = new System.Drawing.Size(800, 24);            // Szerokość: 800px, Wysokość: 24px
this.menuStrip1.TabIndex = 0;                                       // Indeks tabulacji
this.menuStrip1.Text = "menuStrip1";                                // Tekst domyślny (rzadko widoczny)

// Dodanie podmenu (elementów podrzędnych) do "Plik"
this.fileMenuItem.DropDownItems.AddRange(new System.Windows.Forms.ToolStripItem[] {
    this.newMenuItem,
    this.openMenuItem,
    this.exitMenuItem
});
this.fileMenuItem.Name = "fileMenuItem";        // Unikalna nazwa pozycji menu
this.fileMenuItem.Text = "Plik";                // Tekst widoczny w pasku menu

// Ustawienie pozycji podmenu: "Nowy"
this.newMenuItem.Name = "newMenuItem";          // Unikalna nazwa
this.newMenuItem.Text = "Nowy";                 // Wyświetlany tekst
this.newMenuItem.Click += new System.EventHandler(this.NewMenuItem_Click);  // Obsługa kliknięcia

// Ustawienie pozycji podmenu: "Otwórz"
this.openMenuItem.Name = "openMenuItem";
this.openMenuItem.Text = "Otwórz";
this.openMenuItem.Click += new System.EventHandler(this.OpenMenuItem_Click);

// Ustawienie pozycji podmenu: "Zamknij"
this.exitMenuItem.Name = "exitMenuItem";
this.exitMenuItem.Text = "Zamknij";
this.exitMenuItem.Click += new System.EventHandler(this.ExitMenuItem_Click);

// Ustawienie menuStrip jako głównego menu formularza
this.MainMenuStrip = this.menuStrip1;

// Dodanie menuStrip do listy kontrolek formularza (czyli faktyczne wyświetlenie go)
this.Controls.Add(this.menuStrip1);
```

4. Dodaj obsługę zdarzeń w pliku głównym z rozszerzeniem `<Nazwa>.cs` 

```cs
private void NewMenuItem_Click(object sender, EventArgs e)
{
    MessageBox.Show("Nowy plik");
}

private void OpenMenuItem_Click(object sender, EventArgs e)
{
    MessageBox.Show("Otwórz plik");
}

private void ExitMenuItem_Click(object sender, EventArgs e)
{
    this.Close();
}
```